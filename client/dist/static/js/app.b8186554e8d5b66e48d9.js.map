{"version":3,"sources":["webpack:///src/components/Leaderboard.vue","webpack:///./src/components/Leaderboard.vue?939a","webpack:///./src/components/Leaderboard.vue","webpack:///src/App.vue","webpack:///./src/App.vue?38d9","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["Leaderboard","data","loading","scores","items","fields","key","sortable","detailFields","hasError","errorMessage","sortBy","sortDesc","components","props","methods","formatIssueKeys","issueKeys","map","issueKey","join","loadScores","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","fetchScores","scoreData","wrap","_context","prev","next","fetch","sent","json","item","name","points","username","scoring","t0","stop","created","_this2","_callee2","_context2","setInterval","window","location","reload","components_Leaderboard","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","show","_v","_e","variant","_s","striped","hover","sort-by","sort-desc","on","update:sortBy","$event","update:sortDesc","scopedSlots","_u","fn","row","size","click","stopPropagation","toggleDetails","detailsShowing","query","domProps","innerHTML","issueKeyData","value","staticRenderFns","App","__webpack_require__","normalizeComponent","ssrContext","title","selectortype_template_index_0_src_App","id","src_App","App_normalizeComponent","vue_esm","config","productionTip","use","es","el","template"],"mappings":"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","file":"static/js/app.b8186554e8d5b66e48d9.js","sourcesContent":["<template>\n  <div class=\"board\">\n    <b-alert show v-if=\"loading\">Loading scores, please wait, this may take a while...</b-alert>\n    <b-alert show v-if=\"hasError\" variant=\"danger\">Error Loading Scores: {{errorMessage}}</b-alert>\n\n    <template>\n      <b-table \n        v-if=\"!loading\"\n        striped \n        hover \n        :items=\"items\" \n        :fields=\"fields\"\n        :sort-by.sync=\"sortBy\"\n        :sort-desc.sync=\"sortDesc\"\n      >\n        <template slot=\"show_details\" slot-scope=\"row\">\n          <!-- we use @click.stop here to prevent emitting of a 'row-clicked' event  -->\n          <b-button size=\"sm\" @click.stop=\"row.toggleDetails\" class=\"mr-2\">\n          {{ row.detailsShowing ? 'Hide' : 'Show'}} Details\n          </b-button>\n        </template>\n\n\n        <!-- SHOW DETAILS SECTION : TODO:  MOVE TO ANOTHER COMPONENT?? -->        \n        <template slot=\"row-details\" slot-scope=\"row\">\n          <b-table \n            striped \n            hover \n            :items=\"row.item.scoring\"\n            :fields=\"detailFields\"\n          >\n\n            <!-- TODO: show JQL - fix span.title or maybe slick a button to show -->\n            <span slot=\"name\" slot-scope=\"query\" v-html=\"`<span title='${row.jql}'>${query.value}</span>`\"></span>\n            <span slot=\"issueKeys\" slot-scope=\"issueKeyData\" v-html=\"formatIssueKeys(issueKeyData.value)\"></span>\n          </b-table>\n        </template>\n        \n      </b-table>\n\n      <p v-if=\"!loading\">\n        Sorting By: <b>{{ sortBy }}</b>,\n        Sort Direction: <b>{{ sortDesc ? 'Descending' : 'Ascending' }}</b>\n      </p>\n    </template>\n  </div>\n</template>\n\n<script>\n\nimport { Card, Table } from 'bootstrap-vue/es/components'\nimport { setTimeout } from 'timers';\n// import * as _ from 'lodash'\n\nexport default {\n  data() {\n    return {\n      loading: true,\n      scores: [],\n      items: [],\n      fields: [\n        { key: 'name', sortable: true },\n        { key: 'points', sortable: true },\n        { key: 'show_details', sortable: false },\n      ],\n      detailFields: [\n        // { key: 'jql', sortable: true },\n        { key: 'name', sortable: true },\n        { key: 'type', sortable: true },\n        { key: 'numberOfIssues', sortable: true },\n        { key: 'pointMultiplier', sortable: true },\n        { key: 'userPointsForIssues', sortable: true },\n        { key: 'issueKeys', sortable: false },\n      ],\n      hasError: false,\n      errorMessage: '',\n      sortBy: 'points',\n      sortDesc: true,\n    }\n  },\n\n  components: {\n  },\n\n  props: [\n  ],\n\n  methods: {\n    formatIssueKeys(issueKeys) {\n      return issueKeys\n        .map(issueKey => `\n          <a title=\"See the JIRA Issue\" \n             href=\"https://jira.redacted.com/browse/${issueKey}\">\n            ${issueKey}</a>`)\n        .join('<br />')\n    },\n\n    async loadScores() {\n      try {\n        // // TODO: use vue router ?\n        // // https://router.vuejs.org/api/\n        // const team = window.location.hash || 'deafult_teamn ame'\n        \n        // // const fetchScores = await fetch('http://localhost:3000/scores/' + team)\n        // const fetchScores = await fetch('/scores/' + team)\n\n        // support for multiple teams was dropped!\n\n        const fetchScores = await fetch('/scores')\n        \n        \n        const scoreData = await fetchScores.json()\n        this.hasError = false\n        this.loading = false\n        this.scores = scoreData\n        this.items = scoreData.map(item => {\n          return {\n            name: item.name,\n            points: item.points,\n            username: item.username,\n            scoring: item.scoring,\n          }\n        })\n\n      } catch (err) {\n        this.hasError = true\n        this.loading = false\n        this.errorMessage = err\n      }\n    },\n  },\n\n  async created() {\n    this.loadScores()\n    const refreshDelay = 600 * 1000\n    // setTimeout(this.loadScores, refreshDelay)\n    setInterval(() => {\n      window.location.reload()\n    }, refreshDelay)\n  },\n}\n\n</script>\n\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Leaderboard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"board\"},[(_vm.loading)?_c('b-alert',{attrs:{\"show\":\"\"}},[_vm._v(\"Loading scores, please wait, this may take a while...\")]):_vm._e(),_vm._v(\" \"),(_vm.hasError)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"danger\"}},[_vm._v(\"Error Loading Scores: \"+_vm._s(_vm.errorMessage))]):_vm._e(),_vm._v(\" \"),[(!_vm.loading)?_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":_vm.items,\"fields\":_vm.fields,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event}},scopedSlots:_vm._u([{key:\"show_details\",fn:function(row){return [_c('b-button',{staticClass:\"mr-2\",attrs:{\"size\":\"sm\"},on:{\"click\":function($event){$event.stopPropagation();return row.toggleDetails($event)}}},[_vm._v(\"\\n        \"+_vm._s(row.detailsShowing ? 'Hide' : 'Show')+\" Details\\n        \")])]}},{key:\"row-details\",fn:function(row){return [_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":row.item.scoring,\"fields\":_vm.detailFields},scopedSlots:_vm._u([{key:\"name\",fn:function(query){return _c('span',{domProps:{\"innerHTML\":_vm._s((\"<span title='\" + (row.jql) + \"'>\" + (query.value) + \"</span>\"))}})}},{key:\"issueKeys\",fn:function(issueKeyData){return _c('span',{domProps:{\"innerHTML\":_vm._s(_vm.formatIssueKeys(issueKeyData.value))}})}}])})]}}])}):_vm._e(),_vm._v(\" \"),(!_vm.loading)?_c('p',[_vm._v(\"\\n      Sorting By: \"),_c('b',[_vm._v(_vm._s(_vm.sortBy))]),_vm._v(\",\\n      Sort Direction: \"),_c('b',[_vm._v(_vm._s(_vm.sortDesc ? 'Descending' : 'Ascending'))])]):_vm._e()]],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dd525b04\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Leaderboard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dd525b04\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Leaderboard.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Leaderboard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Leaderboard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dd525b04\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Leaderboard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Leaderboard.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <b-container>\n      <div class=\"scoreboard\">\n        <h1>{{ title }}</h1>\n        <leaderboard></leaderboard>\n      </div>\n    </b-container>\n  </div>\n</template>\n\n<script>\n\n  import Leaderboard from './components/Leaderboard.vue'\n\n  export default {\n    components: {\n      Leaderboard\n    },\n\n    data () {\n      return {\n        title: 'Sprint Leaderboard',\n      }\n    },\n\n    methods: {}\n  }\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('b-container',[_c('div',{staticClass:\"scoreboard\"},[_c('h1',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('leaderboard')],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-64e80de6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-64e80de6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-64e80de6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport BootstrapVue from \"bootstrap-vue\"\n\nimport App from './App'\nimport \"bootstrap/dist/css/bootstrap.min.css\"\n// import \"bootstrap-vue/dist/bootstrap-vue.css\"\n\nimport '@/assets/base.scss'\nimport '@/assets/table.scss'\nimport '@/assets/scanlines.scss'\nimport '@/assets/old-tv.scss'\n\nVue.config.productionTip = false\n\nVue.use(BootstrapVue)\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}